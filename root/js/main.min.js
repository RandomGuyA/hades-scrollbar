!function(a,b,c){"use strict";function d(b,c){console.log(t+" activated"),this.$el=a(b),this.$el.data(t,this),this.defaults={required:!0};var d=this.$el.data(t+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}function e(){var a=parseInt(q.css("top")),b=p.height()-q.height(),c=i(a,b),d=parseInt(c/100*g());console.log(d),s.scrollTop(d)}function f(){var a=s.scrollTop(),b=i(a,g()),c=p.height()-q.height(),d=b/100*c;q.css("top",d+"px")}function g(){var a=l(s),b=r.height(),c=j(s);return a-b+c}function h(a,b){var c=i(b,a),d=p.height(),e=c/100*d;q.css("height",e)}function i(a,b){return 100/b*a}function j(a){var b=0;return a.find("*").each(function(){b+=k(this,"top")+k(this,"bottom")}),b}function k(a,b){return parseInt(window.getComputedStyle(a).getPropertyValue("margin-"+b))}function l(b){var c=0;return b.find("*").each(function(){c+=a(this).height()}),c}var m,n,o,p,q,r,s,t="Hades Scrollbar";d.prototype.init=function(){m=this,n=m.$el,o=m.defaults,p=n.find(".track"),q=n.find(".handle"),r=n.find(".viewport"),s=n.find(".scrollable");var a=(s.scrollTop(),l(s)),b=r.height();console.log(a),console.log(b),h(a,b),r.scroll_event(),q.add_drag_function_to_element()},a.fn.scroll_event=function(){return this.each(function(){a(this).on("mousewheel",function(a){a.deltaY==-1&&(console.log(s.scrollTop()),f()),1==a.deltaY&&(console.log(s.scrollTop()),f())})})},a.fn.add_drag_function_to_element=function(){return this.each(function(){a(this).draggable({containment:"parent",axis:"y",start:function(b,c){console.log("started dragging"),console.log(a(this).position().top)},drag:function(a,b){console.log("currently dragging"),e()},stop:function(b,c){console.log("stopped dragging"),console.log(a(this).position().top),q.add_drag_function_to_element()}})})},a.fn.hades_scroll_bar=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window);